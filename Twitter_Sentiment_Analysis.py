{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"executionInfo":{"elapsed":2423,"status":"ok","timestamp":1714296622792,"user":{"displayName":"harish satti","userId":"14767639166020100800"},"user_tz":-330},"id":"gDizmVSBJK6f"},"outputs":[],"source":["import nltk"]},{"cell_type":"code","execution_count":2,"metadata":{"executionInfo":{"elapsed":754,"status":"ok","timestamp":1714296625884,"user":{"displayName":"harish satti","userId":"14767639166020100800"},"user_tz":-330},"id":"FPwqx7Ll398l"},"outputs":[],"source":["#TWITTER SENTIMENT ANALYSIS\n","import pandas as pd\n","import numpy as np\n","import re\n","import seaborn as sns\n","import matplotlib.pyplot as plt\n","from matplotlib import style\n","style.use('ggplot')\n","from textblob import TextBlob\n","from nltk.tokenize import word_tokenize\n","from nltk.stem import PorterStemmer\n","from nltk.corpus import stopwords\n","stop_words = set('stopwords')\n","from wordcloud import WordCloud\n","from sklearn.feature_extraction.text import CountVectorizer\n","from sklearn.model_selection import train_test_split\n","from sklearn.linear_model import LogisticRegression\n","from sklearn.metrics import accuracy_score, classification_report, confusion_matrix, ConfusionMatrixDisplay"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"vWjv0PVhJ5Af"},"outputs":[],"source":["!ls"]},{"cell_type":"code","execution_count":4,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1714296632792,"user":{"displayName":"harish satti","userId":"14767639166020100800"},"user_tz":-330},"id":"TLg2vx-YBwF_"},"outputs":[],"source":["filepath = 'salaries.csv'"]},{"cell_type":"code","execution_count":5,"metadata":{"executionInfo":{"elapsed":639,"status":"ok","timestamp":1714296635425,"user":{"displayName":"harish satti","userId":"14767639166020100800"},"user_tz":-330},"id":"B434XJQzEors"},"outputs":[],"source":["df = pd.read_csv(filepath)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"1pfCB8b0NsgZ"},"outputs":[],"source":["df.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"wIC827FiN7U0"},"outputs":[],"source":["df.info()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"xBiVQ2X1PT9K"},"outputs":[],"source":["df.isnull().sum()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"4sjcGMHyPw3a"},"outputs":[],"source":["df.columns"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"PlUTvGArP_kf"},"outputs":[],"source":["text_df = df.drop(['work_year', 'experience_level', 'employment_type', 'job_title',\n","       'salary', 'salary_currency', 'salary_in_usd', 'employee_residence',\n","       'remote_ratio', 'company_location', 'company_size'], axis=1)\n","text_df.head()\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sdNUDbrW8IzE"},"outputs":[],"source":["text_df.columns"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"TY4VXaKTRX_r"},"outputs":[],"source":["print(text_df.head())"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"ckzJmm-GTBMK"},"outputs":[],"source":["print(text_df.columns)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"YaL-OQSOTGUr"},"outputs":[],"source":["print(text_df.isnull().sum())"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Gi4YfzJ9USbX"},"outputs":[],"source":["text_df.empty"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"B5N3eXsyUoOO"},"outputs":[],"source":["\n","text_df.info()"]},{"cell_type":"code","execution_count":16,"metadata":{"id":"3T9YJWUPU9y4","executionInfo":{"status":"ok","timestamp":1714296716139,"user_tz":-330,"elapsed":408,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["def data_processing(text):\n","  text=text.lower()\n","  text = re.sub(r\"https\\S+ www\\S+https\\S+\", text, flags-re.MULTILINE)\n","  text = re.sub(r'\\@w+\\#','text')\n","  text = re.sub(r'[^\\w\\s]','',text)\n","  text_tokens=word_tokenize (text)\n","  filtered_text = [w for w in text_tokens if not w in stop_words]\n","  return \" \".join(filtered_text)"]},{"cell_type":"code","execution_count":17,"metadata":{"id":"DCxANBfVYVZF","executionInfo":{"status":"ok","timestamp":1714296718784,"user_tz":-330,"elapsed":4,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["import pandas as pd"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"D5b7zo1JYaNO"},"outputs":[],"source":["text_df.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Y4KAM4PRYfRR"},"outputs":[],"source":["text_df.columns"]},{"cell_type":"code","execution_count":20,"metadata":{"id":"wWwNBrbLYjln","executionInfo":{"status":"ok","timestamp":1714296728494,"user_tz":-330,"elapsed":446,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["\n","\n","import pandas as pd"]},{"cell_type":"code","execution_count":21,"metadata":{"id":"nfz_7wISY3QT","executionInfo":{"status":"ok","timestamp":1714296732851,"user_tz":-330,"elapsed":777,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["def data_processing(text):\n","    # Add your data processing logic here\n","    # ...\n","    return text"]},{"cell_type":"code","execution_count":22,"metadata":{"id":"GwDt0q2aY685","executionInfo":{"status":"ok","timestamp":1714296735804,"user_tz":-330,"elapsed":4,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["text_df = pd.DataFrame({'text': ['This is a sample text', 'Another example']})"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sJ7OKdW9bLrx"},"outputs":[],"source":["print(text_df['text'].iloc[0],\"\\n\")\n","print(text_df['text'].iloc[1],\"\\n\")"]},{"cell_type":"code","execution_count":24,"metadata":{"id":"aWEIh72VY-EG","executionInfo":{"status":"ok","timestamp":1714296743933,"user_tz":-330,"elapsed":504,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["text_df['content'] = text_df['text'].apply(data_processing)"]},{"cell_type":"code","execution_count":25,"metadata":{"id":"RvC6k6rDZcyd","executionInfo":{"status":"ok","timestamp":1714296746701,"user_tz":-330,"elapsed":505,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["\n","text_df=text_df.drop_duplicates('text')"]},{"cell_type":"code","execution_count":26,"metadata":{"id":"JMBmTWJlZo8J","executionInfo":{"status":"ok","timestamp":1714296749063,"user_tz":-330,"elapsed":414,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["stemmer=PorterStemmer()\n","def stemming(data):\n","    text = [stemmer.stem(word) for word in data]\n","    return data"]},{"cell_type":"code","execution_count":27,"metadata":{"id":"aiMu_xU5aGgG","executionInfo":{"status":"ok","timestamp":1714296751885,"user_tz":-330,"elapsed":467,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["text_df['text']=text_df['text'].apply(lambda x : stemming(x))"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"pGuw_tE0ajtn"},"outputs":[],"source":["text_df.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Oo32G2wQapGn"},"outputs":[],"source":["\n","print(text_df['text'].iloc[0],\"\\n\")\n","print(text_df['text'].iloc[1],\"\\n\")"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"T5LkMrc7bULv"},"outputs":[],"source":["text_df.info()"]},{"cell_type":"code","execution_count":32,"metadata":{"id":"LnyFnpsSbeVp","executionInfo":{"status":"ok","timestamp":1714296769331,"user_tz":-330,"elapsed":489,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["def polarity(text):\n","  return TextBlob(text).sentiment.polarity"]},{"cell_type":"code","execution_count":33,"metadata":{"id":"R-eWe48Nb1-3","executionInfo":{"status":"ok","timestamp":1714296771846,"user_tz":-330,"elapsed":414,"user":{"displayName":"harish satti","userId":"14767639166020100800"}}},"outputs":[],"source":["text_df['polarity']=text_df['text'].apply"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"2qAuFFNhcOkb"},"outputs":[],"source":["text_df.head(10)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"iBaTpTTt1HQs"},"outputs":[],"source":["import pandas as pd\n","\n","# Example data\n","data = {\n","    'polarity': [-1, 0, 1, 0.5]\n","}\n","text_df = pd.DataFrame(data)\n","\n","# Define the function to classify sentiment\n","def sentiment(label):\n","    if label < 0:\n","        return \"Negative\"\n","    elif label == 0:\n","        return \"Neutral\"\n","    else:\n","        return \"Positive\"\n","\n","# Apply the function\n","text_df['sentiment'] = text_df['polarity'].apply(sentiment)\n","\n","# View the result\n","print(text_df)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"3UpgIuJyx1cp"},"outputs":[],"source":["text_df.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"znPYgxwD1Tj8"},"outputs":[],"source":["fig=plt.figure(figsize=(5,5))\n","sns.countplot(x='sentiment',data=text_df)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"tTDynacE13xa"},"outputs":[],"source":["fig=plt.figure(figsize=(7,7))\n","colors=(\"yellowgreen\", \"gold\", \"red\")\n","wp= {'linewidth': 2, 'edgecolor': \"black\"}\n","tags=text_df['sentiment'].value_counts()\n","explode=(0.1,0.1,0.1)\n","tags.plot(kind='pie', autopct='%1.1f%%', shadow=True, colors = colors,\n","          startangle=90, wedgeprops=wp, explode=explode, label='')\n","\n","plt.title('Distribution of sentiments')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"iRcGaUAV2pB-"},"outputs":[],"source":["pos_tweets=text_df[text_df.sentiment=='Positive']\n","pos_tweets=pos_tweets.sort_values(['polarity'],ascending=False)\n","pos_tweets.head()"]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"id":"jVvZx63BFPKj"},"execution_count":null,"outputs":[]},{"cell_type":"code","execution_count":null,"metadata":{"id":"mYEe1Q5FBRrd"},"outputs":[],"source":["text = ' '.join([word for word in pos_tweets])\n","plt.figure(figsize=(20,15), facecolor='None')\n","wordcloud = WordCloud(max_words=500, width=1600, height=800).generate(text)\n","plt.imshow(wordcloud, interpolation='bilinear')\n","plt.axis(\"off\")\n","plt.title('Most frequent words in positive tweets', fontsize=19)\n","plt.show()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"do-8ek0k3ct0"},"outputs":[],"source":["neg_tweets=text_df[text_df.sentiment=='Negative']\n","neg_tweets=neg_tweets.sort_values(['polarity'],ascending=False)\n","neg_tweets.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"jvEW2kNmBvGQ"},"outputs":[],"source":["text = ' '.join([word for word in neg_tweets])\n","plt.figure(figsize=(20,15), facecolor='None')\n","wordcloud = WordCloud(max_words=500, width=1600, height=800).generate(text)\n","plt.imshow(wordcloud, interpolation='bilinear')\n","plt.axis(\"off\")\n","plt.title('Most frequent words in negative tweets', fontsize=19)\n","plt.show()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"g-vrN8QZ66p-"},"outputs":[],"source":["neutral_tweets=text_df[text_df.sentiment=='Neutral']\n","neutral_tweets=neutral_tweets.sort_values(['polarity'],ascending=False)\n","neutral_tweets.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"aUsF7xeCB8Xe"},"outputs":[],"source":["text = ' '.join([word for word in neutral_tweets])\n","plt.figure(figsize=(20,15), facecolor='None')\n","wordcloud = WordCloud(max_words=500, width=1600, height=800).generate(text)\n","plt.imshow(wordcloud, interpolation='bilinear')\n","plt.axis(\"off\")\n","plt.title('Most frequent words in neutral tweets', fontsize=19)\n","plt.show()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"VJUMM8ZECM7Y"},"outputs":[],"source":[]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyMfQcvYnIq4dUkI9R8CVCit"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}